FROM ubuntu:18.04
RUN apt update && \
    apt install -y software-properties-common && \
    add-apt-repository ppa:deadsnakes/ppa && \
    apt update && apt install -y python3.6 && \
    apt install -y python3-pip && pip3 install --upgrade pip 

RUN pip3 install kafka-python opencv-python Pillow pandas pymongo && apt install -y libgl1-mesa-glx
ENV topic="WorkStation1"
ENV broker_server="broker:9092"
ENV mongo_host="mongodb"
ENV mongo_port="27017"
ENV part_name="abc"
COPY /consumer/consumer.py /apps/consumer/consumer.py
#RUN python3 /apps/consumer/consumer.py topic broker_server mongo_host mongo_port part_name
#not able to add kafka-network